<div class="container">
    <div class="card border-dark" style="margin-bottom: 2%; margin-top: 0.5%;">
        <div class="card-header bg-dark text-white" style="text-align: center; font-weight: bold;">
            {{titulo}}
            <button class="btn btn-primary float-right" [routerLink]="['/cita']">Cerrar</button>
        </div>
        <div class="card-body">
            <form [formGroup]="citaForm" (ngSubmit)="gestionar()">
                <div class="form-group">
                    <div class="input-group">
                        <label for="fechaCita" class="col-form-label col-sm-3">Fecha:</label>
                        <ngb-datepicker validar required id="fechaCita" formControlName="fechaCita" name="fechaCita" class="form-group" #dp (navigate)="date = $event.next"></ngb-datepicker>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <label for="horaCita" class="col-form-label col-sm-3">Hora:</label>
                        <ngb-timepicker id="horaCita" validar formControlName="horaCita" name="horaCita" [spinners]="spinners" [meridian]="meridian"></ngb-timepicker>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <label for="medico" class="col-form-label col-sm-3">MÃ©dico:</label>
                        <div class="ng-autocomplete width-autocomplete">
                            <ng-autocomplete id="medico" name="medico" validar formControlName="medico" required [data]="medicos" [searchKeyword]="atributoAutocomplete" (selected)='seleccionarMedico($event)' [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate"></ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                                <a [innerHTML]="item.identificacion + ' - ' + item.nombres + ' ' + item.apellidos"></a>
                            </ng-template>
                            <ng-template #notFoundTemplate let-notFound>
                                <div [innerHTML]="notFound"></div>
                            </ng-template>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <label for="paciente" class="col-form-label col-sm-3">Paciente:</label>
                        <div class="ng-autocomplete width-autocomplete">
                            <ng-autocomplete id="paciente" name="paciente" validar formControlName="paciente" required [data]="pacientes" [searchKeyword]="atributoAutocomplete" [searchKeyword]="atributoAutocomplete" (selected)='seleccionarPaciente($event)' [itemTemplate]="itemTemplate"
                                [notFoundTemplate]="notFoundTemplate"></ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                                <a [innerHTML]="item.identificacion + ' - ' + item.nombres + ' ' + item.apellidos"></a>
                            </ng-template>
                            <ng-template #notFoundTemplate let-notFound>
                                <div [innerHTML]="notFound"></div>
                            </ng-template>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class="text-center">
                    <button type="submit" class="btn btn-primary" (click)="onCrearClick()" *ngIf="!cita.id else elseBlock" [disabled]="!citaForm.valid" role="button">Crear</button>
                    <ng-template #elseBlock>
                        <button type="submit" class="btn btn-primary" (click)="onEditarClick()" [disabled]="!citaForm.valid" role="button">Editar</button>
                    </ng-template>
                </div>
            </form>
        </div>
    </div>
</div>